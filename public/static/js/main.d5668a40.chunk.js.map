{"version":3,"sources":["components/MyNav.js","components/EventList.js","components/config.js","components/CircleLoader.js","components/EventDetail.js","components/AddEvent.js","components/EditEvent.js","components/SignIn.js","components/SignUp.js","components/Avatar.js","components/Profile.js","components/LottieControl.js","components/NotFound.js","App.js","index.js"],"names":["MyNav","props","user","onLogout","className","Navbar","id","bg","expand","Toggle","aria-controls","Collapse","Nav","to","onClick","style","marginLeft","EventList","events","this","map","event","_id","name","src","image","alt","Component","process","circleStyle","display","width","height","border","borderTop","borderRadius","boxSizing","top","left","spinTransition","loop","Infinity","ease","duration","CircleLoader","motion","span","animate","rotate","transition","EventDetail","state","eventDetail","fetchingData","comments","eventId","match","params","eventDetailGet","axios","get","config","withCredentials","commentGet","Promise","allSettled","then","response","console","log","setState","value","data","catch","errorObj","error","onComment","onShaka","loading","pathname","eventComments","filter","elem","description","location","date","owner","comment","onSubmit","e","type","placeholder","class","AddEvent","onAdd","rows","cols","accept","Button","EditEvent","handleNameChange","newName","target","clonedEventDetail","JSON","parse","stringify","handleDescChange","newDesc","handleDateChange","newDate","handleLocationChange","newLocation","onEdit","onChange","SignIn","onSignIn","htmlFor","SignUp","Avatar","onAvatar","Profile","fetchingUser","onDelete","myEvents","LottieControl","defaultOptions","autoplay","animationData","animation","rendererSettings","preserveAspectRatio","options","NotFound","App","handleLogout","post","history","push","handleSignUp","preventDefault","username","password","email","newUser","handleSignIn","componentDidMount","userGet","eventGet","handleAdd","eventImage","files","formData","FormData","append","handleComment","clonedComments","handleDelete","delete","filteredEvents","handleEdit","patch","updatedEvents","handleAvatar","userId","avatar","Helmet","charSet","exact","path","render","routeProps","handleShaka","component","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5668a40.chunk.js","sourcesContent":["import React from \"react\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nfunction MyNav(props) {\n  const { user, onLogout } = props;\n  return (\n    <div className=\"header2\">\n      <div>\n        <Navbar id=\"navbar\" bg=\"light\" expand=\"lg\">\n          <Navbar.Toggle className=\"body\" aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Link className=\"h3\" to=\"/\">\n                <h3>Events</h3>\n              </Link>\n              <Link className=\"h3\" to=\"/profile\">\n                <h3>Your Profile</h3>\n              </Link>\n              <Link className=\"h3\" to=\"/avatar\">\n                <h3>Change your Avatar</h3>\n              </Link>\n              <Link className=\"h3\" to=\"/add-event\">\n                <h3>Create an Event</h3>\n              </Link>\n              {user ? (\n                <Link className=\"h3\" to=\"/\" onClick={onLogout}>\n                  <h3>Logout</h3>\n                </Link>\n              ) : (\n                <>\n                  <Link style={{ marginLeft: \"10px\" }} to=\"/signin\">\n                    SignIn\n                  </Link>\n                  <Link style={{ marginLeft: \"10px\" }} to=\"/signup\">\n                    SignUp\n                  </Link>\n                </>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n      </div>\n      <span className=\"create-sess\">\n        <h6>Create an Event</h6>\n        <Link className=\"create-event\" to=\"/add-event\">\n          <h2>Create</h2>\n        </Link>\n      </span>\n    </div>\n  );\n}\nexport default MyNav;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass EventList extends Component {\n  render() {\n    //destructor props coming from app.js state\n    const { events } = this.props;\n    return (\n      <div className=\"events-list\">\n        <h1 className=\"upcoming-events\">Upcoming Events:</h1>\n        {events.map((event) => {\n          return (\n            <div className=\"event-list\">\n              <div key={event._id}>\n                <Link className=\"event-name\" to={`/event/${event._id}`}>\n                  <h2>{event.name}</h2>\n                </Link>\n              </div>\n              <img className=\"eventPic\" src={event.image} alt=\"sess pic\" />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\nexport default EventList;\n","export default {\n  API_URL: process.env.REACT_APP_SERVER_URL,\n};\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\n\nconst circleStyle = {\n  display: \"flex\",\n  width: \"5rem\",\n  height: \"5rem\",\n  border: \"1rem solid #facaa7\",\n  borderTop: \"1rem solid #f59042\",\n  borderRadius: \"50%\",\n\n  boxSizing: \"border-box\",\n  top: \"10%\",\n  left: \"40%\",\n};\n\nconst spinTransition = {\n  loop: Infinity,\n  ease: \"linear\",\n  duration: 1,\n};\n\nexport default function CircleLoader() {\n  return (\n    <div className=\"containerStyle\">\n      <motion.span\n        style={circleStyle}\n        animate={{ rotate: 360 }}\n        transition={spinTransition}\n      />\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport config from \"./config\";\nimport CircleLoader from \"../components/CircleLoader\";\n\nclass EventDetail extends Component {\n  state = {\n    eventDetail: null,\n    fetchingData: true,\n    comments: [],\n  };\n\n  componentDidMount() {\n    let eventId = this.props.match.params.eventId;\n\n    //eventDetail get from axios\n    let eventDetailGet = axios.get(`${config.API_URL}/api/event/${eventId}`, {\n      withCredentials: true,\n    });\n\n    //comments api get\n    let commentGet = axios.get(`${config.API_URL}/api/comments`, {\n      withCredentials: true,\n    });\n\n    Promise.allSettled([eventDetailGet, commentGet])\n      .then((response) => {\n        console.log(\"edit promise sucess\");\n        //console.log(response[0].value.data);\n        this.setState({\n          eventDetail: response[0].value.data,\n          comments: response[1].value.data,\n          fetchingData: false,\n        });\n      })\n      .catch((errorObj) => {\n        console.log(\"promise failed\");\n        this.setState({ error: errorObj.data, fetchingData: false });\n      });\n  }\n\n  render() {\n    const { eventDetail, fetchingData } = this.state;\n    const { user, onComment, comments, onShaka } = this.props;\n\n    //loading screen\n    if (fetchingData) {\n      return (\n        <div className=\"loading\">\n          <h1 className=\"call\">Kook-Club!</h1>\n\n          <img\n            className=\"logo-loading\"\n            loading=\"lazy\"\n            src=\"images/kclogo2.jpeg\"\n            alt=\"logo\"\n          />\n          <CircleLoader />\n        </div>\n      );\n    }\n    if (!user) {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/signup\",\n            state: \"Please sign in\",\n          }}\n        />\n      );\n    }\n\n    const eventComments = comments.filter(\n      (elem) => elem.eventId === eventDetail._id\n    );\n\n    return (\n      <div className=\"event-detail\">\n        <h2>{eventDetail.name}</h2>\n\n        {eventDetail.image && (\n          <img className=\"eventPic\" src={eventDetail.image} alt=\"sess pic\" />\n        )}\n        <div className=\"shaka\">\n          <h4>Spred some love! </h4>\n          <img onClick={(onShaka, eventDetail)} src=\"/images/shaka.jpeg\" />\n          {/* <h5>Shaka Count: {eventDetail.shaka ? eventDetail.shaka : null}</h5> */}\n        </div>\n        <h3>Description:</h3>\n        <h6 className=\"desc\">{eventDetail.description}</h6>\n        <h3>Location:</h3>\n        <h6>{eventDetail.location}</h6>\n        <h3>Date:</h3>\n        <h6>{eventDetail.date}</h6>\n\n        <h3>Comments:</h3>\n\n        {eventComments.map((elem) => {\n          return (\n            <div>\n              <div className=\"comments\">\n                <div>\n                  <h5 className=\"owner\">{elem.owner.name}:</h5>\n                </div>\n                <div>\n                  <p>{elem.comment}</p>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n\n        <form onSubmit={(e) => onComment(e, eventDetail._id)}>\n          <input name=\"comment\" type=\"text\" placeholder=\"comment\" />\n          <button type=\"submit\" class=\"btn btn-info\">\n            Add Comment\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\nexport default EventDetail;\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Redirect } from \"react-router-dom\";\n\nclass AddEvent extends Component {\n  render() {\n    const { onAdd, user } = this.props;\n    if (!user) {\n      return <Redirect to={\"/signup\"} />;\n    }\n    return (\n      <div className=\"add-event-page\">\n        <div className=\"add-event\">\n          <div>\n            <h2>Create your event here!</h2>\n          </div>\n          <form onSubmit={(e) => onAdd(e, user)}>\n            <div>\n              <label>Event Name:</label>\n              <input name=\"name\" type=\"text\" />\n            </div>\n            <div>\n              <label>Date:</label>\n              <input name=\"date\" type=\"date\" />\n            </div>\n            <div>\n              <label>Location:</label>\n              <input name=\"location\" type=\"text\" />\n            </div>\n            <div>\n              <div>\n                <label>Description:</label>\n                <textarea name=\"description\" rows=\"2\" cols=\"40\" />\n              </div>\n              <div>\n                <label>Add an Image:</label>\n                <input\n                  name=\"eventImage\"\n                  type=\"file\"\n                  accept=\"image/jpeg, image/png\"\n                />\n              </div>\n            </div>\n            <Button type=\"submit\">Submit</Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddEvent;\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nclass EditEvent extends Component {\n  state = {\n    eventDetail: {},\n  };\n\n  componentDidMount() {\n    let eventId = this.props.match.params.eventId;\n    console.log(eventId);\n    axios.get(`http://localhost:5005/api/event/${eventId}`).then((response) => {\n      console.log(response.data);\n      this.setState({ eventDetail: response.data });\n    });\n  }\n\n  //update just the name of the event\n  handleNameChange = (event) => {\n    let newName = event.target.value;\n\n    // clone the object to update one specific part of it\n    const { eventDetail } = this.state;\n    let clonedEventDetail = JSON.parse(JSON.stringify(eventDetail));\n\n    clonedEventDetail.name = newName;\n\n    this.setState({\n      eventDetail: clonedEventDetail,\n    });\n  };\n\n  //update the event decription\n  handleDescChange = (event) => {\n    let newDesc = event.target.value;\n\n    // clone the object to update one specific part of it\n    const { eventDetail } = this.state;\n    let clonedEventDetail = JSON.parse(JSON.stringify(eventDetail));\n\n    clonedEventDetail.description = newDesc;\n\n    this.setState({\n      eventDetail: clonedEventDetail,\n    });\n  };\n\n  //update the event date\n  handleDateChange = (event) => {\n    let newDate = event.target.value;\n\n    // clone the object to update one specific part of it\n    const { eventDetail } = this.state;\n    let clonedEventDetail = JSON.parse(JSON.stringify(eventDetail));\n\n    clonedEventDetail.date = newDate;\n\n    this.setState({\n      eventDetail: clonedEventDetail,\n    });\n  };\n\n  //update the event location\n  handleLocationChange = (event) => {\n    let newLocation = event.target.value;\n\n    // clone the object to update one specific part of it\n    const { eventDetail } = this.state;\n    let clonedEventDetail = JSON.parse(JSON.stringify(eventDetail));\n\n    clonedEventDetail.location = newLocation;\n\n    this.setState({\n      eventDetail: clonedEventDetail,\n    });\n  };\n\n  render() {\n    const { eventDetail } = this.state;\n    const { onEdit } = this.props;\n    return (\n      <div className=\"add-event\">\n        <div>\n          <h2>Edit your Event: </h2>\n        </div>\n        <div>\n          <label>Event Name:</label>\n          <input\n            onChange={this.handleNameChange}\n            type=\"text\"\n            value={eventDetail.name}\n          />\n        </div>\n        <div>\n          <label>Event Date:</label>\n          <input\n            onChange={this.handleDateChange}\n            type=\"date\"\n            value={eventDetail.date}\n          />\n        </div>\n        <div>\n          <label>Event Location:</label>\n          <input\n            onChange={this.handleLocationChange}\n            type=\"text\"\n            value={eventDetail.location}\n          />\n        </div>\n        <div>\n          <label>Event Description:</label>\n          <textarea\n            rows=\"2\"\n            cols=\"40\"\n            onChange={this.handleDescChange}\n            value={eventDetail.description}\n          />\n        </div>\n        <Button\n          type=\"submit\"\n          onClick={() => {\n            onEdit(eventDetail);\n          }}\n        >\n          Submit\n        </Button>\n      </div>\n    );\n  }\n}\nexport default EditEvent;\n","import React from \"react\";\n\nfunction SignIn(props) {\n  const { onSignIn, error } = props;\n  return (\n    <div className=\"profile\">\n      <h2>Please sign-in</h2>\n      <form onSubmit={onSignIn}>\n        <div className=\"form-group\">\n          <label htmlFor=\"InputEmail\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"InputEmail\"\n            name=\"email\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"InputPassword\">Password</label>\n          <input\n            name=\"password\"\n            type=\"password\"\n            className=\"form-control\"\n            id=\"InputPassword\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Submit\n        </button>\n        {error && <p>{error.error}</p>}\n      </form>\n    </div>\n  );\n}\n\nexport default SignIn;\n","import React from \"react\";\n\nfunction SignUp(props) {\n  const { onSubmit } = props;\n  return (\n    <div className=\"profile\">\n      <h2>Sign up with us!</h2>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"InputUsername\">Username</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"InputUsername\"\n            name=\"username\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"InputEmail\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"InputEmail\"\n            name=\"email\"\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            We'll never share your email with anyone else.\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"InputPassword\">Password</label>\n          <input\n            name=\"password\"\n            type=\"password\"\n            className=\"form-control\"\n            id=\"InputPassword\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nclass Avatar extends Component {\n  render() {\n    const { user, onAvatar } = this.props;\n\n    return (\n      <div className=\"avatar-page\">\n        <div>\n          <h2 className=\"avatar-page-h2\">Choose your Avatar</h2>\n        </div>\n        <div>\n          <form onSubmit={(e) => onAvatar(e, user._id)}>\n            <div className=\"column\">\n              <input name=\"avatar\" type=\"file\" accept=\"image/jpeg, image/png\" />\n\n              <Button type=\"submit\">Submit</Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Avatar;\n","import React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nclass Profile extends Component {\n  state = {\n    events: [],\n    user: null,\n    error: null,\n    fetchingUser: true,\n    comments: [],\n    eventDetail: {},\n  };\n\n  componentDidMount() {\n    //let eventId = this.props.match.params.eventId;\n\n    axios.get(`http://localhost:5005/api/profile`).then((response) => {\n      console.log(response.data);\n      this.setState({ eventDetail: response.data, fetchingData: false });\n    });\n  }\n\n  render() {\n    const { fetchingData } = this.state;\n    const { events, user, onDelete } = this.props;\n    const myEvents = events.filter((elem) => elem.owner === user._id);\n\n    if (fetchingData) {\n      return (\n        <div className=\"loading\">\n          <h1> loading...</h1>\n        </div>\n      );\n    }\n    if (!user) {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/signup\",\n            state: \"Please sign in\",\n          }}\n        />\n      );\n    }\n\n    return (\n      <div className=\"margin-bottom\">\n        <h1 className=\"upcoming-events\">Welcome {user.name}!</h1>\n        <h2 className=\"profile\">List of your events:</h2>\n        <div className=\"events-list\">\n          {myEvents.map((e) => {\n            return (\n              <div>\n                <div className=\"event-list\">\n                  <div key={e._id}>\n                    <Link className=\"event-name\" to={`/event/${e._id}`}>\n                      <h2>{e.name}</h2>\n                    </Link>\n                  </div>\n                  <img className=\"eventPic\" src={e.image} alt=\"sess pic\" />\n                </div>\n                <div className=\"edit-button\">\n                  <div className=\"link\">\n                    <Link className=\"link1\" to={`/event/${e._id}/edit`}>\n                      Edit\n                    </Link>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-danger\"\n                    onClick={() => {\n                      onDelete(e._id);\n                    }}\n                  >\n                    Delete Event\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Profile;\n","import React from \"react\";\nimport Lottie from \"react-lottie\";\n\nfunction LottieControl(props) {\n  const { height, width, animation } = props;\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animation,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n  return (\n    <div>\n      <Lottie options={defaultOptions} height={height} width={width} />\n    </div>\n  );\n}\nexport default LottieControl;\n","import React, { Component } from \"react\";\nimport data from \"../animations/bus.json\";\nimport LottieControl from \"./LottieControl\";\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div className=\"page\">\n        <LottieControl animation={data} width={400} height={300} />\n      </div>\n    );\n  }\n}\nexport default NotFound;\n","import axios from \"axios\";\nimport { React, Component } from \"react\";\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport MyNav from \"./components/MyNav\";\nimport EventList from \"./components/EventList\";\nimport EventDetail from \"./components/EventDetail\";\nimport AddEvent from \"./components/AddEvent\";\nimport EditEvent from \"./components/EditEvent\";\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport Avatar from \"./components/Avatar\";\nimport Profile from \"./components/Profile\";\nimport config from \"./components/config\";\nimport CircleLoader from \"./components/CircleLoader\";\nimport { Helmet } from \"react-helmet\";\nimport NotFound from \"./components/NotFound\";\n\nclass App extends Component {\n  state = {\n    events: [],\n    user: null,\n    error: null,\n    fetchingUser: true,\n    comments: [],\n  };\n\n  //log out pass an empty objext as second parameter so it doesnt send the withcred... as the object\n  handleLogout = (e) => {\n    axios\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\n      .then((response) => {\n        this.setState(\n          {\n            user: null,\n          },\n          () => {\n            this.props.history.push(`/`);\n          }\n        );\n      })\n      .catch((errorObj) => {\n        this.setState({\n          error: errorObj.response.data,\n        });\n      });\n  };\n\n  //signing up function\n  handleSignUp = (e) => {\n    e.preventDefault();\n    let { username, password, email } = e.target;\n    let newUser = {\n      username: username.value,\n      email: email.value,\n      password: password.value,\n    };\n    axios\n      .post(`${config.API_URL}/api/signup`, newUser, { withCredentials: true })\n      .then((response) => {\n        //always with axios, the real data is in the data key word\n        this.setState(\n          {\n            user: response.data,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch((errorObj) => {\n        this.setState({\n          error: errorObj.response.data,\n        });\n      });\n  };\n\n  //signing in function\n  handleSignIn = (e) => {\n    e.preventDefault();\n    let { email, password } = e.target;\n    let newUser = {\n      email: email.value,\n      password: password.value,\n    };\n    console.log(newUser);\n    axios\n      .post(`${config.API_URL}/api/signin`, newUser, { withCredentials: true })\n      .then((response) => {\n        //always with axios, the real data is in the data key word\n        this.setState(\n          {\n            user: response.data,\n            error: null,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n        console.log(\"signin sucessful\");\n      })\n      .catch((errorObj) => {\n        this.setState({\n          error: errorObj.response.data,\n        });\n        console.log(\"signin failed\");\n      });\n  };\n\n  // NEED TO UPDATE THE STRUCTURE TO HAVE A SINGLE SET STATE FOR ONE GET\n  componentDidMount = () => {\n    //start editing here\n    //user api get\n    let userGet = axios.get(`${config.API_URL}/api/user`, {\n      withCredentials: true,\n    });\n\n    //event api get\n    let eventGet = axios.get(`${config.API_URL}/api/events`, {\n      withCredentials: true,\n    });\n\n    //comments api get\n    let commentGet = axios.get(`${config.API_URL}/api/comments`, {\n      withCredentials: true,\n    });\n\n    //chained together\n    Promise.allSettled([userGet, eventGet, commentGet])\n      .then((response) => {\n        this.setState({\n          user: response[0].value.data,\n          events: response[1].value.data,\n          comments: response[2].value.data,\n          fetchingUser: false,\n        });\n      })\n      .catch((errorObj) => {\n        console.log(\"promise failed\");\n        this.setState({ error: errorObj.data, fetchingUser: false });\n      });\n  };\n\n  //this updtes the DB and state\n  handleAdd = (e, user) => {\n    e.preventDefault();\n\n    let image = e.target.eventImage.files[0];\n    let formData = new FormData();\n    formData.append(\"imageUrl\", image);\n\n    axios\n      .post(`${config.API_URL}/api/upload`, formData)\n      .then((response) => {\n        return axios.post(\n          `${config.API_URL}/api/create`,\n          {\n            name: e.target.name.value,\n            image: response.data.image,\n            description: e.target.description.value,\n            date: e.target.date.value,\n            location: e.target.location.value,\n          },\n          {\n            withCredentials: true,\n          }\n        );\n      })\n      .then((response) => {\n        this.setState(\n          {\n            events: [response.data, ...this.state.events],\n          },\n          () => {\n            //redirect user after adding an event here\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch(() => {\n        console.log(\"upload failed\");\n      });\n  };\n\n  //this adds a comment to the db\n  handleComment = (e, eventId) => {\n    e.preventDefault();\n    let { comment } = e.target;\n\n    axios\n      .post(\n        `${config.API_URL}/api/comment/${eventId}/create`,\n        { comment: comment.value },\n\n        {\n          withCredentials: true,\n        }\n      )\n      .then((response) => {\n        //always with axios, the real data is in the data key word\n        console.log(\"comment sucess!\");\n\n        // never modify the state except with setState, clone it,then add comment then set state\n        const clonedComments = JSON.parse(JSON.stringify(this.state.comments));\n        clonedComments.push(response.data);\n        this.setState(\n          {\n            comments: clonedComments,\n          },\n          () => {\n            this.props.history.push(`/event/${eventId}`);\n          }\n        );\n      })\n      .catch((errorObj) => {\n        console.log(\"comment failed\");\n        this.setState({\n          error: errorObj.response.data,\n        });\n      });\n  };\n\n  //deletes events in db\n  handleDelete = (eventId) => {\n    console.log(`deleted: ${eventId}`);\n    console.log(this.state.events);\n\n    //delete from the DB\n    //delete from the state\n    axios\n      .delete(`${config.API_URL}/api/profile/${eventId}`, {\n        withCredentials: true,\n      })\n      .then(() => {\n        let filteredEvents = this.state.events.filter((event) => {\n          return event._id !== eventId;\n        });\n        console.log(\"delete sucessful\");\n        this.setState(\n          {\n            events: filteredEvents,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch(() => {\n        console.log(\"delete failed\");\n      });\n  };\n\n  //handling the edit items\n  handleEdit = (eventDetail) => {\n    axios\n      .patch(`${config.API_URL}/api/event/${eventDetail._id}`, eventDetail, {\n        withCredentials: true,\n      })\n      .then(() => {\n        //update the local state after updating the Db\n        let updatedEvents = this.state.events.map((event) => {\n          if (event._id === eventDetail._id) {\n            event.name = eventDetail.name;\n            event.description = eventDetail.description;\n            event.location = eventDetail.location;\n            event.date = eventDetail.date;\n          }\n          return event;\n        });\n        this.setState(\n          {\n            events: updatedEvents,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch((errorObj) => {});\n  };\n\n  //handles the avatar photo\n  handleAvatar = (e, userId) => {\n    e.preventDefault();\n\n    let avatar = e.target.avatar.files[0];\n    let formData = new FormData();\n    formData.append(\"imageUrl\", avatar);\n\n    axios\n      .patch(`${config.API_URL}/api/avatar/${userId}`, formData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"avatar sucess\");\n\n        this.setState(\n          {\n            user: response.data,\n          },\n          () => {\n            //redirect user after adding an event here\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch(() => {\n        console.log(\"avatar upload failed\");\n      });\n  };\n\n  //handle the shakas (likes)\n  // handleShaka = (shaka, eventDetail) => {\n  //   axios\n  //     .patch(`${config.API_URL}/api/event/${eventDetail._id}`, eventDetail, {\n  //       withCredentials: true,\n  //     })\n  //     .then(() => {\n  //       //update the local state after updating the Db\n  //       let updatedEvents = this.state.events.map((event) => {\n  //         if (event._id === eventDetail._id) {\n  //           event.shaka++;\n  //         }\n  //         return event;\n  //       });\n  //       this.setState({\n  //         events: updatedEvents,\n  //       });\n  //     })\n  //     .catch((errorObj) => {});\n  // };\n\n  render() {\n    // destructor state first\n    const { events, error, user, fetchingUser, comments } = this.state;\n\n    //loading screen\n    if (fetchingUser) {\n      return (\n        <div className=\"loading\">\n          <h1 className=\"call\">Kook-Club!</h1>\n\n          <img\n            className=\"logo-loading\"\n            loading=\"lazy\"\n            src=\"images/kclogo2.jpeg\"\n            alt=\"logo\"\n          />\n          <CircleLoader />\n        </div>\n      );\n    }\n\n    //nav bar at top in orange\n    return (\n      <div>\n        <Helmet>\n          <meta charSet=\"utf-8\" />\n          <title>Kook-Club!</title>\n        </Helmet>\n        <div className=\"mynav\">\n          <div>\n            <img\n              className=\"logo\"\n              loading=\"lazy\"\n              src=\"images/kclogo2.jpeg\"\n              alt=\"logo\"\n            />\n          </div>\n          <div>\n            <h1 className=\"call\">Kook-Club!</h1>\n          </div>\n          <div>\n            {user?.avatar ? (\n              <img className=\"avatar\" loading=\"lazy\" src={user.avatar} />\n            ) : (\n              <img\n                className=\"avatar\"\n                loading=\"lazy\"\n                src=\"/images/no-avatar-300x300.png\"\n              />\n            )}\n          </div>\n        </div>\n\n        <div>\n          <MyNav onLogout={this.handleLogout} user={user} />\n        </div>\n\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return <EventList events={events} />;\n            }}\n          />\n          <Route\n            exact\n            path=\"/event/:eventId\"\n            render={(routeProps) => {\n              return (\n                <EventDetail\n                  user={user}\n                  onShaka={this.handleShaka}\n                  comments={comments}\n                  onComment={this.handleComment}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/event/:eventId\"\n            render={(routeProps) => {\n              return <EditEvent onEdit={this.handleEdit} {...routeProps} />;\n            }}\n          />\n\n          <Route\n            path=\"/add-event\"\n            render={() => {\n              return <AddEvent user={user} onAdd={this.handleAdd} />;\n            }}\n          />\n          <Route\n            path=\"/signin\"\n            render={(routeProps) => {\n              return (\n                <SignIn\n                  error={error}\n                  onSignIn={this.handleSignIn}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/signup\"\n            render={(routeProps) => {\n              return <SignUp onSubmit={this.handleSignUp} {...routeProps} />;\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/avatar\"\n            render={() => {\n              return <Avatar user={user} onAvatar={this.handleAvatar} />;\n            }}\n          />\n          <Route\n            path=\"/profile\"\n            render={(routeProps) => {\n              return (\n                <Profile\n                  events={events}\n                  error={error}\n                  user={user}\n                  comments={comments}\n                  onComment={this.handleComment}\n                  onDelete={this.handleDelete}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n          <Route component={NotFound} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\n// heroku url for env file https://kook-club.herokuapp.com\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}